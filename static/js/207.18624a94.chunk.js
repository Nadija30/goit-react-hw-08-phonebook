"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[207],{3207:function(e,t,n){n.r(t),n.d(t,{default:function(){return L}});var a=n(2791),r=n(1413),s=n(9439),c=n(8813),o=n(3531),u=n(5568),i=function(e){return e.contacts.items},l=function(e){return e.contacts.isLoading},m=function(e){return e.contacts.error},d=n(5935),h={form:"ContactForm_form__dhl+T",input:"ContactForm_input__Bl93P",label:"ContactForm_label__-cVXI",button:"ContactForm_button__eSwX9"},f=n(184),p=function(){var e=(0,a.useState)(""),t=(0,s.Z)(e,2),n=t[0],l=t[1],m=(0,a.useState)(""),p=(0,s.Z)(m,2),_=p[0],v=p[1],x=(0,o.useDispatch)(),b=(0,o.useSelector)(i),j=function(e){var t=e.target,n=t.value;"name"===t.name?l(n):v(n)},C=function(e,t){return e.find((function(e){return e.name.toLowerCase()===t.name.toLowerCase()}))},N=function(){l(""),v("")};return(0,f.jsx)("div",{className:h.container,children:(0,f.jsxs)("form",{className:h.form,onSubmit:function(e){e.preventDefault();var t={name:n,number:_},a=(0,r.Z)((0,r.Z)({},t),{},{id:(0,c.nanoid)()});void 0===C(b,a)?(x((0,d.w$)(a)).unwrap().then((function(e){u.Am.success("".concat(e.name," successfully added to contacts"))})).catch((function(){u.Am.failure("Sorry, something's wrong")})),N()):u.Am.warning("".concat(a.name," is already in contacts"))},children:[(0,f.jsxs)("label",{className:h.label,children:["Name",(0,f.jsx)("input",{className:h.input,type:"text",name:"name",pattern:"^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$",title:"Name may contain only letters, apostrophe, dash and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan",onChange:j,value:n,placeholder:"Enter name ...",required:!0})]}),(0,f.jsxs)("label",{className:h.label,children:["Number",(0,f.jsx)("input",{className:h.input,type:"tel",name:"number",pattern:"\\+?\\d{1,4}?[-.\\s]?\\(?\\d{1,3}?\\)?[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,9}",title:"Phone number must be digits and can contain spaces, dashes, parentheses and can start with +",onChange:j,value:_,placeholder:"Enter number ...",required:!0})]}),(0,f.jsx)("button",{className:h.button,type:"submit",children:"Add contact"})]})})},_=n(2548),v="Filter_label__vEd1E",x="Filter_input__N7T3z",b=function(){var e=(0,o.useDispatch)(),t=(0,o.useSelector)(_.YI);return(0,f.jsx)("div",{children:(0,f.jsxs)("label",{className:v,children:["Find contacts by name:",(0,f.jsx)("input",{className:x,name:"filter",type:"text",value:t,onChange:function(t){var n=t.currentTarget.value;e((0,_.Ks)(n))}})]})})},j="Error_wrapperError__3jywT",C=function(){var e=(0,o.useSelector)(m);return(0,f.jsx)("div",{className:j,children:(0,f.jsxs)("p",{children:[" \u041d\u0430\u043c \u0448\u043a\u043e\u0434\u0430, ",e]})})},N="EmptyContactList_emptyContactsList__M9xN8",y=function(){return(0,f.jsx)("div",{className:N,children:(0,f.jsx)("h1",{children:"You don't have any contacts yet"})})},w="ContactList_list__csErn",g="ContactList_item__EZYHO",S="ContactList_button__7kL4l",A=function(){var e=(0,o.useDispatch)();(0,a.useEffect)((function(){e((0,d.m$)())}),[e]);var t=(0,o.useSelector)(i),n=(0,o.useSelector)(_.YI),r=t.filter((function(e){var t=e.name;return null===t||void 0===t?void 0:t.toLowerCase().includes(n)}));return(0,f.jsx)("ul",{className:w,children:r.map((function(t){var n=t.id,a=t.name,r=t.number;return(0,f.jsxs)("li",{className:g,children:[(0,f.jsx)("span",{children:a}),(0,f.jsx)("span",{children:r}),(0,f.jsx)("button",{className:S,type:"button",onClick:function(){return t=n,void e((0,d.ku)(t)).unwrap().then((function(e){u.Am.success("".concat(e.name," successfully deleted from contacts"))})).catch((function(){u.Am.failure("Sorry, something's wrong")}));var t},children:"Delete"})]},n)}))})},E="ContactsPage_container__BnqXB",L=function(){var e=(0,o.useSelector)(l),t=(0,o.useSelector)(m),n=(0,o.useSelector)(i);return(0,f.jsxs)("div",{className:E,children:[(0,f.jsx)(p,{}),(0,f.jsx)(b,{}),t?(0,f.jsx)(C,{}):(0,f.jsx)(A,{}),0===n.length&&!t&&!e&&(0,f.jsx)(y,{})]})}}}]);
//# sourceMappingURL=207.18624a94.chunk.js.map