"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[344],{3344:function(e,t,n){n.r(t),n.d(t,{default:function(){return F}});var a=n(2791),r=n(1413),s=n(9439),c=n(8813),o=n(3531),u=n(5568),i=function(e){return e.contacts.items},l=function(e){return e.contacts.isLoading},m=function(e){return e.contacts.error},d=n(5935),h="ContactForm_form__dhl+T",f="ContactForm_input__Bl93P",p="ContactForm_label__-cVXI",_="ContactForm_button__eSwX9",v=n(184),x=function(){var e=(0,a.useState)(""),t=(0,s.Z)(e,2),n=t[0],l=t[1],m=(0,a.useState)(""),x=(0,s.Z)(m,2),j=x[0],b=x[1],C=(0,o.useDispatch)(),y=(0,o.useSelector)(i),N=function(e){var t=e.target,n=t.value;"name"===t.name?l(n):b(n)},w=function(e,t){return e.find((function(e){return e.name.toLowerCase()===t.name.toLowerCase()}))},g=function(){l(""),b("")};return(0,v.jsxs)("form",{className:h,onSubmit:function(e){e.preventDefault();var t={name:n,number:j},a=(0,r.Z)((0,r.Z)({},t),{},{id:(0,c.nanoid)()});void 0===w(y,a)?(C((0,d.w$)(a)).unwrap().then((function(e){u.Am.success("".concat(e.name," successfully added to contacts"))})).catch((function(){u.Am.failure("Sorry, something's wrong")})),g()):u.Am.warning("".concat(a.name," is already in contacts"))},children:[(0,v.jsxs)("label",{className:p,children:["Name",(0,v.jsx)("input",{className:f,type:"text",name:"name",pattern:"^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$",title:"Name may contain only letters, apostrophe, dash and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan",onChange:N,value:n,placeholder:"Enter name ...",required:!0})]}),(0,v.jsxs)("label",{className:p,children:["Number",(0,v.jsx)("input",{className:f,type:"tel",name:"number",pattern:"\\+?\\d{1,4}?[-.\\s]?\\(?\\d{1,3}?\\)?[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,9}",title:"Phone number must be digits and can contain spaces, dashes, parentheses and can start with +",onChange:N,value:j,placeholder:"Enter number ...",required:!0})]}),(0,v.jsx)("button",{className:_,type:"submit",children:"Add contact"})]})},j=n(2548),b="Filter_label__vEd1E",C="Filter_input__N7T3z",y=function(){var e=(0,o.useDispatch)(),t=(0,o.useSelector)(j.YI);return(0,v.jsx)("div",{children:(0,v.jsxs)("label",{className:b,children:["Find contacts by name:",(0,v.jsx)("input",{className:C,name:"filter",type:"text",value:t,onChange:function(t){var n=t.currentTarget.value;e((0,j.Ks)(n))}})]})})},N="Error_wrapperError__3jywT",w=function(){var e=(0,o.useSelector)(m);return(0,v.jsx)("div",{className:N,children:(0,v.jsxs)("p",{children:[" \u041d\u0430\u043c \u0448\u043a\u043e\u0434\u0430, ",e]})})},g="EmptyContactList_emptyContactsList__M9xN8",S=function(){return(0,v.jsx)("div",{className:g,children:(0,v.jsx)("h1",{children:"You don't have any contacts yet"})})},A="ContactList_list__csErn",E="ContactList_item__EZYHO",L="ContactList_button__7kL4l",k=function(){var e=(0,o.useDispatch)();(0,a.useEffect)((function(){e((0,d.m$)())}),[e]);var t=(0,o.useSelector)(i),n=(0,o.useSelector)(j.YI),r=t.filter((function(e){var t=e.name;return null===t||void 0===t?void 0:t.toLowerCase().includes(n)}));return(0,v.jsx)("ul",{className:A,children:r.map((function(t){var n=t.id,a=t.name,r=t.number;return(0,v.jsxs)("li",{className:E,children:[(0,v.jsx)("span",{children:a}),(0,v.jsx)("span",{children:r}),(0,v.jsx)("button",{className:L,type:"button",onClick:function(){return t=n,void e((0,d.ku)(t)).unwrap().then((function(e){u.Am.success("".concat(e.name," successfully deleted from contacts"))})).catch((function(){u.Am.failure("Sorry, something's wrong")}));var t},children:"Delete"})]},n)}))})},F=function(){var e=(0,o.useSelector)(l),t=(0,o.useSelector)(m),n=(0,o.useSelector)(i);return(0,v.jsxs)("div",{children:[(0,v.jsx)(x,{}),(0,v.jsx)(y,{}),t?(0,v.jsx)(w,{}):(0,v.jsx)(k,{}),0===n.length&&!t&&!e&&(0,v.jsx)(S,{})]})}}}]);
//# sourceMappingURL=344.fdb15625.chunk.js.map